```markdown
# Servicio gRPC de PredicciÃ³n de Vinos

Este proyecto implementa un servicio gRPC para predicciÃ³n de calidad de vinos utilizando Docker y Python.

## ğŸ“ Estructura del Proyecto

```
GRP/
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ buildAll.sh
â”‚   â”œâ”€â”€ runAll.sh
â”‚   â””â”€â”€ stopAll.sh
â”œâ”€â”€ grp_app.py
â”œâ”€â”€ test_client.py
â”œâ”€â”€ wine_service.proto
â”œâ”€â”€ wine_service_pb2.py
â””â”€â”€ wine_service_pb2_grpc.py
```

## ğŸ› ï¸ Requisitos

- Docker
- Python 3.10+
- Modelo entrenado (`random_forest_model.pkl`)

## ğŸš€ ConfiguraciÃ³n y Despliegue

### 1. ConstrucciÃ³n de la Imagen Docker

El Dockerfile estÃ¡ configurado para:
- Usar Python 3.10-slim como imagen base
- Instalar dependencias necesarias del sistema
- Configurar variables de entorno para el servicio gRPC
- Copiar e instalar los requisitos de Python
- Configurar el directorio de trabajo y los archivos del servicio

### 2. Scripts de AutomatizaciÃ³n

#### Construir la imagen
```bash
./buildAll.sh
```
Este script construye la imagen Docker con la etiqueta `microservicio-grpc:1.0`

#### Iniciar el servicio
```bash
./runAll.sh
```
Este script:
- Crea una red Docker llamada `microservices-net`
- Inicia el contenedor con la configuraciÃ³n necesaria
- Mapea el puerto 50051
- Monta el volumen para los modelos

#### Detener el servicio
```bash
./stopAll.sh
```
Este script detiene y limpia los contenedores y redes creados.

## ğŸ“¦ Dependencias Principales

```text
grpcio==1.68.1
grpcio-tools==1.68.1
numpy==1.26.4
scikit-learn==1.4.1.post1
joblib==1.3.2
```

## ğŸ”§ Variables de Entorno

- `GRPC_PORT`: Puerto para el servicio gRPC (default: 50051)
- `MODEL_PATH`: Ruta al modelo serializado (default: /app/models/random_forest_model.pkl)
- `PYTHONUNBUFFERED`: ConfiguraciÃ³n para logs de Python

## ğŸŒŸ CaracterÃ­sticas del Servicio

- PredicciÃ³n de calidad de vinos basada en caracterÃ­sticas quÃ­micas
- Endpoint de health check para monitoreo
- Manejo de errores robusto
- Escalable y containerizado

## ğŸ“ Uso del Servicio

1. Construir la imagen:
```bash
cd docker
./buildAll.sh
```

2. Iniciar el servicio:
```bash
./runAll.sh
```

3. Probar el servicio:
```bash
python test_client.py
```

4. Detener el servicio:
```bash
./stopAll.sh
```

## ğŸ” Monitoreo

El servicio incluye un endpoint de health check que puede ser consultado para verificar:
- Estado del servicio
- Carga del modelo
- Mensajes de estado

## âš ï¸ Consideraciones

- AsegÃºrate de que el modelo estÃ© disponible en la ruta especificada
- El puerto 50051 debe estar disponible en el host
- Los permisos de ejecuciÃ³n deben estar configurados para los scripts .sh
```
